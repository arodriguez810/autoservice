window,$type=String,$type.__typeName="String",$type.__class=!0,$prototype=$type.prototype,$prototype.replaceAll=function(t,r){return this.replace(new RegExp(t,"g"),r)},$prototype.replaceAll2=function(t,r){return this.split(t).join(r)},$prototype.endsWith=function(t){return this.substr(this.length-t.length)===t},$prototype.startsWith=function(t){return this.substr(0,t.length)===t},$prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},$prototype.trimEnd=function(){return this.replace(/\s+$/,"")},$prototype.trimStart=function(){return this.replace(/^\s+/,"")},$type.format=function(t,r){return String._toFormattedString(!1,arguments)},$type._toFormattedString=function(t,r){for(var e="",n=r[0],o=0;;){var i=n.indexOf("{",o),a=n.indexOf("}",o);if(i<0&&a<0){e+=n.slice(o);break}if(a>0&&(a<i||i<0)){if("}"!==n.charAt(a+1))throw new Error("format stringFormatBraceMismatch");e+=n.slice(o,a+1),o=a+2}else if(e+=n.slice(o,i),o=i+1,"{"!==n.charAt(o)){if(a<0)throw new Error("format stringFormatBraceMismatch");var s=n.substring(o,a),p=s.indexOf(":"),c=parseInt(p<0?s:s.substring(0,p),10)+1;if(isNaN(c))throw new Error("format stringFormatInvalid");var l=p<0?"":s.substring(p+1),f=r[c];null==f&&(f=""),f.toFormattedString?e+=f.toFormattedString(l):t&&f.localeFormat?e+=f.localeFormat(l):f.format?e+=f.format(l):e+=f.toString(),o=a+1}else e+="{",o++}return e};
