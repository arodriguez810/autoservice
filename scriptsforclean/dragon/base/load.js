LOAD=function(){outanimation=CONFIG.ui.animation.outanimation,inanimation=CONFIG.ui.animation.inanimation,this.loadContentScope=function(t,n,e,i,o,a,s){a=!1===a?void 0:a,o=void 0===o||o;var u="#"+n;if(""!==t){if(ARRAY.contains(CONFIG.hidemenus,t))this.template("error/base",{status:403,statusText:MESSAGE.i("alerts.permissiondenied")},function(t){$("#"+n).html(t),DSON.oseaX(inanimation)||animation.playPure($("#"+n),inanimation,function(){}),$("#"+n).show(),MESSAGE.run()});else if(!(new SESSION).ifLogoffRedirec(t)){$http=angular.injector(["ng"]).get("$http"),(new HTTP).setToken($http);var r=window.location.href.split("?").length>1?window.location.href.split("?")[1]:"";$http.get(t+`?scope=${a||s.modelName}&query=${r}`,{}).then(function(t){var n=new HTTP;n.evaluate(t),n.evaluateTokenHTML(t)||$(u).html(s.returnBuild(t.data)),DSON.oseaX(inanimation)||(new ANIMATION).playPure($(u),inanimation,function(){}),$(u).show();try{MESSAGE.run()}catch(t){}i(!0)},function(t){console.log(t),$http.get("error/error?scope="+(a||s.modelName),{}).then(function(n){s.httpError=t,$(u).html(s.returnBuild(n.data)),DSON.oseaX(inanimation)||animation.playPure($(u),inanimation,function(){}),$(u).show(),MESSAGE.run(),i(!0)})})}}else this.template("error/base",{status:"404",statusText:MESSAGE.i("mono.NotFound")+"!"},function(t){$("#"+n).html(t),DSON.oseaX(inanimation)||animation.playPure($("#"+n),inanimation,function(){}),$("#"+n).show(),MESSAGE.run()})},this.loadContentClean=function(t,n,e,i,o,a){this.loadContentScope(t,n,e,i,!1,o,a)},this.loadContent=function(t,n,e){var i=window.location.href.split("#");i.length>1&&""!==(i=i[1])&&((new SESSION).ifLogoffRedirec(i)||(-1!==i.indexOf("?")&&(i=i.split("?")[0]),MENU.setActive(i),this.loadContentView(i,t,n,e)))},this.loadContentView=function(t,n,e,i){var o=new ANIMATION,a=n.modelName;DSON.oseaX(a)&&(a=t.split("/")[0]);if(STEP.clear(),$("#content").hide(),ARRAY.contains(CONFIG.hidemenus,t))this.template("error/base",{status:403,statusText:MESSAGE.i("alerts.permissiondenied")},function(t){$("#content").html(t),DSON.oseaX(inanimation)||o.playPure($("#content"),inanimation,function(){}),$("#content").show(),MESSAGE.run()});else{var s=window.location.href.split("?").length>1?window.location.href.split("?")[1]:"";e.get(t+`?scope=${a}&query=${s}`,{}).then(function(t){var e=new HTTP;e.evaluate(t),e.evaluateTokenHTML(t)||$("#content").html(i(t.data)(n)),DSON.oseaX(inanimation)||(new ANIMATION).playPure($("#content"),inanimation,function(){}),$("#content").show(),MESSAGE.run()},function(t){(new LOAD).template("error/base",{status:t.status,statusText:MESSAGE.i("error.e"+t.status)},function(t){$("#content").html(t),DSON.oseaX(inanimation)||o.playPure($("#content"),inanimation,function(){}),$("#content").show(),MESSAGE.run()})})}},this.template=function(t,n,e){$http=angular.injector(["ng"]).get("$http");var i=new HTTP;i.setToken($http),$http.get(t+"?"+i.objToQuery(n),{}).then(function(t){i.evaluate(t),i.evaluateTokenHTML(t)||e(t.data)},function(t){e(!1)})},this.templatePost=function(t,n,e){$http=angular.injector(["ng"]).get("$http");var i=new HTTP;i.setToken($http),$http.post(t,n).then(function(t){i.evaluate(t),i.evaluateTokenHTML(t)||e(t.data)},function(t){e(!1)})}};
