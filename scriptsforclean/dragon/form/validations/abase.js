VALIDATION={types:{success:"success",warning:"warning",error:"error"},run:function($scope){$scope.validation={},$scope.validation.fields={},$scope.validation.stateIcon=function(fields){if(void 0!==$scope)return $scope.validation.state(fields||eval("$scope.form.fileds")).replace(VALIDATION.types.success,"icon-checkmark4 text-success").replace("danger","icon-cancel-circle2 text-danger").replace(VALIDATION.types.warning,"icon-notification2 text-warning")},$scope.validation.state=function(fieldsy){if(void 0!==$scope){var fields=fieldsy||eval("$scope.form.fileds"),result=VALIDATION.types.success;for(const e in $scope.validate)if(DSON.oseaX(fields)||-1!==fields.indexOf(e)){var rule=$scope.validate[e],type=rule.type;if(type!==VALIDATION.types.success){if(type===VALIDATION.types.error)return"danger";type!==VALIDATION.types.success&&(result=type)}}return result}},$scope.validation.statePure=function(fieldsy){var fields=fieldsy||eval("$scope.form.fileds"),result=VALIDATION.types.success;for(const e in $scope.validate)if(DSON.oseaX(fields)||-1!==fields.indexOf(e)){var rule=$scope.validate[e],type=rule.type;if(type!==VALIDATION.types.success){if(type===VALIDATION.types.error)return type;type!==VALIDATION.types.success&&(result=type)}}return result},$scope.validation.warningClose=function(){var e=[],s=0;for(const r in $scope.validate){var t=$scope.validate[r].type;t!==VALIDATION.types.success?t===VALIDATION.types.error?e.push("danger"):t!==VALIDATION.types.success&&e.push(t):(e.push(t),s++)}return s>=e.length/2},$scope.validation.stateDefault=function(){return $scope.validation.state().replace(VALIDATION.types.success,COLOR.primary)},$scope.validation.destroy=function(){$scope.validation={}}},process:function($scope,field,rules){var value=eval(`$scope.${field}_clean || $scope.${field}`),messages=[],type=VALIDATION.types.warning;for(const e of rules)e.valid||(e.type===VALIDATION.types.error&&(type=VALIDATION.types.error),messages.push(JSON.stringify({message:e.message,icon:e.type.replace(VALIDATION.types.error,"danger").replace(VALIDATION.types.success,"icon-checkmark4 text-success").replace("danger","icon-cancel-circle2 text-danger").replace(VALIDATION.types.warning,"icon-notification2 text-warning"),type:e.type.replace(VALIDATION.types.error,"danger")})));var valid=0===messages.length&&type!==VALIDATION.types.error;return type=valid?VALIDATION.types.success:type,{valid:valid,messages:messages,type:type}},validate:function(e,s,t){void 0===e.validate&&(e.validate=[]);var r=[],a=VALIDATION.types.warning;for(const e of t)e.valid||(e.type===VALIDATION.types.error&&(a=VALIDATION.types.error),r.push({message:e.message,icon:e.type.replace(VALIDATION.types.error,"danger").replace(VALIDATION.types.success,"icon-checkmark4 text-success").replace("danger","icon-cancel-circle2 text-danger").replace(VALIDATION.types.warning,"icon-notification2 text-warning"),type:e.type.replace(VALIDATION.types.error,"danger"),visible:e.visible}));var i=0===r.length&&a!==VALIDATION.types.error;return a=i?VALIDATION.types.success:a,e.validate[s]={valid:i,messages:r,type:a},{valid:i,messages:r,type:a}},save:function(e,s,t,r){var a=e.validation.statePure(t);a===VALIDATION.types.success?s():a===VALIDATION.types.warning?SWEETALERT.confirm({message:MESSAGE.i("alerts.preventClose"),confirm:function(){s()}}):SWEETALERT.show({type:"error",message:r||MESSAGE.i("alerts.ContainsError"),confirm:function(){setTimeout(function(){var e=$(".help-block:visible:has('p'):eq(0)").closest(".form-group-material");e.find(".form-control").focus();var s=e.closest(".tab-pane");$(`[href='#${s.attr("id")}']`).trigger("click"),(new ANIMATION).playPure(e,"shake",function(){e.find(".form-control").focus()})},500)}})}};
