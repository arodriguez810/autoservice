MESSAGE={missingLanguage:{},OPEN:function(){baseController.viewData={staticdata:MESSAGE.missingLanguage};var e={header:{title:"Missing Messages",icon:"stack-text"},footer:{cancelButton:!0},content:{loadingContentText:MESSAGE.i("actions.Loading")}};baseController.currentModel.modal.modalView("templates/components/messageManager",e)},register:function(e,t,a){void 0===MESSAGE.missingLanguage[e+"-"+t]?(MESSAGE.missingLanguage[e+"-"+t]={lan:"en",folder:t,messages:[]},MESSAGE.missingLanguage[e+"-"+t].messages.push(a)):ARRAY.contains(MESSAGE.missingLanguage[e+"-"+t].messages,a)||MESSAGE.missingLanguage[e+"-"+t].messages.push(a)},characterize:function(e){var t=[],a=e;for(var n in t["@ENTER@"]="<br>",t["@SPACE@"]=" ",t["@MINUS@"]="<",t["@MAYOR@"]=">",t["@QUOTE@"]="'",t["@DOBLEQUOTE@"]='"',t)a=a.replaceAll(n,t[n]);return a},i:function(key,defaulttext){var lan=STORAGE.get("LANGUAGE")||CONFIG.language,toreturn=key;if(MESSAGE.exist(key))return MESSAGE.characterize(eval(`LANGUAGE.${lan}.${key}`));for(var i in LANGUAGE)if(MESSAGE.existOther(key,i)){if("developer"===CONFIG.mode){var strict=key.split(".");strict.length>1?MESSAGE.register(lan,strict[0],strict[1]):SWEETALERT.show(`The langage key ${key} don't have folder, please change`)}return MESSAGE.characterize(eval(`LANGUAGE.${i}.${key}`))}if("developer"===CONFIG.mode){var strict=key.split(".");strict.length>1?MESSAGE.register(lan,strict[0],strict[1]):SWEETALERT.show({message:`The langage key ${key} don't have folder, please change`})}return defaulttext||`[${lan}.${key}]`},ieval:function(key,vars){for(var i in vars)eval(`var ${i} =vars[i]`);return eval("`"+MESSAGE.i(key)+"`")},ic:function(e,t){return capitalize(MESSAGE.i(e,t))},ispace:function(e,t){return MESSAGE.i(e.replaceAll(" ",""),t)},icspace:function(e,t){return MESSAGE.ic(e.replaceAll(" ",""),t)},exist:function(key){var lan=STORAGE.get("LANGUAGE")||CONFIG.language;if(!eval(`LANGUAGE.${lan}.hasOwnProperty('${key.split(".")[0]}')`))return!1;var exist=eval(`LANGUAGE.${lan}.${key.split(".")[0]}.hasOwnProperty('${key.split(".")[1]}')`);return exist||MESSAGE.register(lan,key.split(".")[0],key.split(".")[1]),exist},existOther:function(key,lan){return!!eval(`LANGUAGE.${lan}.hasOwnProperty('${key.split(".")[0]}')`)&&eval(`LANGUAGE.${lan}.${key.split(".")[0]}.hasOwnProperty('${key.split(".")[1]}')`)},current:function(){return SHOWLANGS.filter(function(e){return e.code===(STORAGE.get("LANGUAGE")||CONFIG.language)})[0]},select:function(e){return SHOWLANGS.filter(function(t){return t.code===e})[0]},change:function(e){SWEETALERT.confirm({type:ENUM.modal.type.warning,title:"Language",message:MESSAGE.ieval("alerts.ChangeLanguage",{lang:e}),confirm:function(){STORAGE.add("LANGUAGE",e.code),location.reload()}})},run:function(){$("[dragonlanguage]").each(function(){$me=$(this),DSON.oseaX($me.attr("title"))||-1!==$me.attr("title").indexOf("MESSAGE.")&&$me.attr("title",eval($me.attr("title"))),DSON.oseaX($me.attr("placeholder"))||-1!==$me.attr("placeholder").indexOf("MESSAGE.")&&$me.attr("placeholder",eval($me.attr("placeholder"))),DSON.oseaX($me.attr("data-original-title"))||-1!==$me.attr("data-original-title").indexOf("MESSAGE.")&&$me.attr("data-original-title",eval($me.attr("data-original-title"))),DSON.oseaX($me.attr("value"))||-1!==$me.attr("value").indexOf("MESSAGE.")&&$me.attr("value",eval($me.attr("value"))),$me.find("language").each(function(){-1!==$(this).html().indexOf("MESSAGE.")&&$(this).html(eval($(this).html()))}),$me.removeAttr("dragonlanguage")}),$("[dragoncontrol]").each(function(){$me=$(this),$meId=$me.attr("id"),$control=$me.attr("dragoncontrol"),$name=$me.attr("name"),$scope=$me.attr("scope"),$cache="false"!==$me.attr("cache"),$properties={},""!==$me.html().trim()&&($properties=DSON.EO($me.html())),$append=!1,$me.attr("append")&&($append=$me.attr("append")),$cols=6,$me.attr("cols")&&($cols=$me.attr("cols")),$label=capitalize($name),$me.attr("label")&&($label=$me.attr("label")),$name&&$scope&&eval(`${$scope}.control.${$control}("#${$meId}", "${$name}", $properties,$append,$cols,$label,$cache)`),$me.removeAttr("dragoncontrol")}),MENU.hideNavBar()}};
