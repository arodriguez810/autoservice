STEP={steps:[],blacklist:["Request Manager Modal","Steps Manager Modal"],register:function(e){"developer"===CONFIG.mode&&(e.windows=e.windows||"",-1===STEP.blacklist.indexOf(e.windows)&&STEP.steps.push({step:STEP.steps.length,scope:e.scope||"-",windows:e.windows||"-",action:e.action||"-",field:e.field||"-",value:e.value||"-",description:e.description||"-",date:new Date}))},clear:function(){STEP.steps=[]},send:function(){if(STEP.steps.length>0){var e="",t=[];for(var o in STEP.steps[0])t.push(capitalize(o));for(var s of(e+=t.join(",")+"\r\n",STEP.steps)){var n=[];for(var o in s)n.push(s[o]);e+=`"${n.join('","')}"\r\n`}SWEETALERT.loading({title:"Downloading  Steps"}),DOWNLOAD.csv(`${baseController.currentModel.plural} steps ${new Date}.csv`,e),swal.close()}else SWEETALERT.show("Theres not steps for download")},OPEN:function(){baseController.viewData={staticdata:STEP.steps};var e={header:{title:MESSAGE.ic("mono.StepsManager"),icon:"stack-text"},footer:{cancelButton:!0},content:{loadingContentText:MESSAGE.i("actions.Loading")}};baseController.currentModel.modal.modalView("templates/components/stepManager",e)}};
